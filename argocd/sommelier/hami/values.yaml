# HAMi Configuration (Shared between Cocktail and Sommelier)
# GPU slicing, resource isolation, and memory oversubscription

scheduler:
  # Scheduling policies
  defaultSchedulerPolicy:
    nodeSchedulerPolicy: binpack  # Consolidate pods on same nodes
    gpuSchedulerPolicy: spread     # Distribute across different GPUs

  tolerations: []
      #- key: "node-role.kubernetes.io/control-plane"
      #  operator: "Exists"
      #  effect: "NoSchedule"

  nodeSelector: {}
      #node-role.kubernetes.io/control-plane: ""

devicePlugin:
  enabled: true
  runtimeClassName: nvidia

  deviceSplitCount: 10           # Each physical GPU â†’ 10 vGPU slots
  deviceMemoryScaling: 1.5      # 1.5x memory oversubscription (50% overcommit)
  disablecorelimit: "true"      # Disable GPU core limits entirely

global:
  imageRegistry: ""
  imageTag: "v2.8.0"
